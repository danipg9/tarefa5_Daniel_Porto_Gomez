{% extends "base.html" %}
{% block content %}
<div class="row justify-content-center mt-5">
    <div class="col-md-6">
        <div class="card shadow-sm border-0">
            <div class="card-header bg-dark text-white py-3 text-center">
                <h4 class="mb-0">Ajustar Objetivos Diarios</h4>
            </div>
            <div class="card-body p-4">
                <form method="POST">
                    <div class="mb-4 text-center">
                        <label class="form-label fw-bold fs-5 text-secondary">Calorías (kcal)</label>
                        <div class="input-group input-group-lg shadow-sm">
                            <input type="number" name="kcal" class="form-control text-center fw-bold" 
                                   value="{{ current_user.target_kcal }}" required>
                            <span class="input-group-text bg-white">kcal</span>
                        </div>
                    </div>

                    <div class="row text-center mt-4">
                        <p class="text-muted small text-uppercase fw-bold mb-3">Distribución de Macronutrientes</p>
                        
                        <div class="col-md-4 mb-3">
                            <label class="form-label small fw-bold text-primary">Proteína</label>
                            <div class="input-group shadow-sm">
                                <input type="number" name="proteinas" class="form-control text-center" 
                                       value="{{ current_user.target_protein }}" required>
                                <span class="input-group-text bg-white">g</span>
                            </div>
                        </div>

                        <div class="col-md-4 mb-3">
                            <label class="form-label small fw-bold text-info">Carbos</label>
                            <div class="input-group shadow-sm">
                                <input type="number" name="carbohidratos" class="form-control text-center" 
                                       value="{{ current_user.target_carbs }}" required>
                                <span class="input-group-text bg-white">g</span>
                            </div>
                        </div>

                        <div class="col-md-4 mb-3">
                            <label class="form-label small fw-bold text-warning">Grasas</label>
                            <div class="input-group shadow-sm">
                                <input type="number" name="grasas" class="form-control text-center" 
                                       value="{{ current_user.target_fat }}" required>
                                <span class="input-group-text bg-white">g</span>
                            </div>
                        </div>
                    </div>

                    <div class="d-grid gap-2 mt-5">
                        <button type="submit" class="btn btn-primary fw-bold py-2 shadow-sm">
                            Actualizar mis objetivos
                        </button>
                        <a href="/" class="btn btn-outline-secondary">Cancelar y volver</a>
                    </div>
                </form>
            </div>
        </div>

        <div class="card border shadow-sm mt-4 bg-light">
            <div class="card-body py-3">
                <div class="d-flex align-items-center">
                    <div class="me-3">
                        <i class="bi bi-info-circle-fill text-primary fs-4"></i>
                    </div>
                    <div>
                        <h6 class="fw-bold mb-1">Nota sobre tus datos</h6>
                        <p class="small mb-0 text-muted">
                            Al cambiar tus objetivos, los días anteriores conservarán la meta que tenías establecida en su 
                            momento gracias al sistema de "snapshots" de la base de datos. Solo los registros nuevos usarán estos valores.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}